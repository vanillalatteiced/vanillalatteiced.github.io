<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Elastic Beanstalk | Itty Bitty</title><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Elastic Beanstalk" /><meta property="og:locale" content="en_US" /><meta name="description" content="Online long-term memory of a novice programmer" /><meta property="og:description" content="Online long-term memory of a novice programmer" /><meta property="og:site_name" content="Itty Bitty" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Elastic Beanstalk" /> <script type="application/ld+json"> {"url":"/docs/aws/beanstalk.html","headline":"Elastic Beanstalk","@type":"WebPage","description":"Online long-term memory of a novice programmer","@context":"https://schema.org"}</script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="/" class="site-title lh-tight"> Itty Bitty </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/demo/" class="nav-list-link">Demo</a><ul class="nav-list "></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/others/" class="nav-list-link">Others</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/others/chrome-ext/" class="nav-list-link">Chrome Extensions</a><ul class="nav-list"></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/others/homebrew/" class="nav-list-link">Homebrew</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/others/homebrew/x86.html" class="nav-list-link">Homebrew x86_64</a></ul><li class="nav-list-item "><a href="/docs/others/jekyll/" class="nav-list-link">Jekyll</a><li class="nav-list-item "><a href="/docs/others/mongodb/" class="nav-list-link">MongoDB</a><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/others/scrapy/" class="nav-list-link">Scrapy</a><ul class="nav-list"></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/others/vim/" class="nav-list-link">Vim</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/others/vim/vim-plug.html" class="nav-list-link">vim-plug</a></ul><li class="nav-list-item "><a href="/docs/others/volta/" class="nav-list-link">Volta</a><li class="nav-list-item "><a href="/docs/others/zsh/" class="nav-list-link">zsh</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/ai/" class="nav-list-link">AI/ML/DL</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/ai/notes/" class="nav-list-link">AI Quick Notes</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/ai/notes/confusion.html" class="nav-list-link">Confusion Matrix</a><li class="nav-list-item "> <a href="/docs/ai/notes/f1-score.html" class="nav-list-link">F-Score</a><li class="nav-list-item "> <a href="/docs/ai/notes/roc.html" class="nav-list-link">ROC Curve</a></ul><li class="nav-list-item "><a href="/docs/ai/m1-tf.html" class="nav-list-link">M1 TensorFlow</a><li class="nav-list-item "><a href="/docs/ai/mlflow.html" class="nav-list-link">MLflow</a></ul><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/aws/" class="nav-list-link">AWS</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/aws/aws-cli.html" class="nav-list-link">AWS CLI</a><li class="nav-list-item "><a href="/docs/aws/chalice.html" class="nav-list-link">Chalice</a><li class="nav-list-item "><a href="/docs/aws/cognito.html" class="nav-list-link">Cognito</a><li class="nav-list-item "><a href="/docs/aws/dynamodb.html" class="nav-list-link">DynamoDB</a><li class="nav-list-item active"><a href="/docs/aws/beanstalk.html" class="nav-list-link active">Elastic Beanstalk</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/docker/" class="nav-list-link">Docker</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/docker/compose.html" class="nav-list-link">Docker Compose</a><li class="nav-list-item "><a href="/docs/docker/container.html" class="nav-list-link">Docker Container</a><li class="nav-list-item "><a href="/docs/docker/images.html" class="nav-list-link">Docker Images</a><li class="nav-list-item "><a href="/docs/docker/networks.html" class="nav-list-link">Docker Networks</a><li class="nav-list-item "><a href="/docs/docker/volumes.html" class="nav-list-link">Docker Volumes</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/flask/" class="nav-list-link">Flask</a><ul class="nav-list "></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/git-hub/" class="nav-list-link">Git/GitHub</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/git-hub/git/" class="nav-list-link">Git</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/git-hub/git/sparse.html" class="nav-list-link">Sparse Checkout</a><li class="nav-list-item "> <a href="/docs/git-hub/git/useful.html" class="nav-list-link">Useful Git Commands</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/git-hub/github/" class="nav-list-link">GitHub</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/git-hub/github/actions.html" class="nav-list-link">GitHub Actions</a><li class="nav-list-item "> <a href="/docs/git-hub/github/useful.html" class="nav-list-link">Useful Notes</a></ul></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/linux/" class="nav-list-link">Linux</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/linux/init.html" class="nav-list-link">Basic Linux Setup</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/python/" class="nav-list-link">Python</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/python/envs/" class="nav-list-link">Python Environments</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/python/envs/conda.html" class="nav-list-link">Conda</a><li class="nav-list-item "> <a href="/docs/python/envs/pipenv.html" class="nav-list-link">Pipenv</a><li class="nav-list-item "> <a href="/docs/python/envs/poetry.html" class="nav-list-link">Poetry</a><li class="nav-list-item "> <a href="/docs/python/envs/pyenv.html" class="nav-list-link">pyenv</a><li class="nav-list-item "> <a href="/docs/python/envs/venv.html" class="nav-list-link">venv</a></ul></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/security/" class="nav-list-link">Security</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/security/pgp/" class="nav-list-link">PGP Key</a><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/security/ssh/" class="nav-list-link">SSH</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/security/ssh/cert.html" class="nav-list-link">SSH Certificates</a><li class="nav-list-item "> <a href="/docs/security/ssh/config.html" class="nav-list-link">SSH Config</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/security/ssl/" class="nav-list-link">SSL</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/security/ssl/csr.html" class="nav-list-link">CSR</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/security/vault/" class="nav-list-link">Vault</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/security/vault/basics.html" class="nav-list-link">Vault Server Basics</a></ul></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/statistics/" class="nav-list-link">Statistics</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/statistics/notes/" class="nav-list-link">Stat Quick Notes</a><ul class="nav-list"></ul></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/terraform/" class="nav-list-link">Terraform</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/terraform/basics.html" class="nav-list-link">Terraform Basics</a><li class="nav-list-item "><a href="/docs/terraform/config.html" class="nav-list-link">Terraform Configuration</a><li class="nav-list-item "><a href="/docs/terraform/terraform-module.html" class="nav-list-link">Terraform Module</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/learned/" class="nav-list-link">Things I Learned</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/learned/db/" class="nav-list-link">Database</a><li class="nav-list-item "><a href="/docs/learned/frontend-web.html" class="nav-list-link">Frontend Web</a><li class="nav-list-item "><a href="/docs/learned/network/" class="nav-list-link">Network</a><li class="nav-list-item "><a href="/docs/learned/oauth2/" class="nav-list-link">OAuth 2.0</a><li class="nav-list-item "><a href="/docs/learned/useful.html" class="nav-list-link">Useful Commands</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/vue/" class="nav-list-link">Vue</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/vue/jsts.html" class="nav-list-link">JS/TS Cheatsheet</a><li class="nav-list-item "><a href="/docs/vue/sb.html" class="nav-list-link">Storybook UI</a><li class="nav-list-item "><a href="/docs/vue/init.html" class="nav-list-link">Vue Project Setup</a><li class="nav-list-item "><a href="/docs/vue/quick-notes.html" class="nav-list-link">Vue Quick Notes</a></ul></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Itty Bitty" aria-label="Search Itty Bitty" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div></div><div id="main-content-wrap" class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="/docs/aws/">AWS</a><li class="breadcrumb-nav-list-item"><span>Elastic Beanstalk</span></ol></nav><div id="main-content" class="main-content" role="main"><h1 class="no_toc" id="aws-elastic-beanstalk-eb"> <a href="#aws-elastic-beanstalk-eb" class="anchor-heading" aria-labelledby="aws-elastic-beanstalk-eb"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> AWS Elastic Beanstalk (EB)</h1><details open=""> <summary class="text-delta"> Table of contents </summary><ol id="markdown-toc"><li><a href="#what-is-elastic-beanstalk" id="markdown-toc-what-is-elastic-beanstalk">What is Elastic Beanstalk?</a><li><a href="#elastic-beanstalk-application" id="markdown-toc-elastic-beanstalk-application">Elastic Beanstalk Application</a><li><a href="#environment-tier" id="markdown-toc-environment-tier">Environment Tier</a><ol><li><a href="#web-server-environment" id="markdown-toc-web-server-environment">Web Server Environment</a><li><a href="#worker-environment" id="markdown-toc-worker-environment">Worker Environment</a></ol><li><a href="#deployment" id="markdown-toc-deployment">Deployment</a><ol><li><a href="#in-place-deployment-policies" id="markdown-toc-in-place-deployment-policies">In-Place Deployment Policies</a><ol><li><a href="#all-at-once" id="markdown-toc-all-at-once">All at once</a><li><a href="#rolling" id="markdown-toc-rolling">Rolling</a><li><a href="#rolling-with-additional-batch" id="markdown-toc-rolling-with-additional-batch">Rolling with additional batch</a><li><a href="#immutable" id="markdown-toc-immutable">Immutable</a><li><a href="#traffic-splitting" id="markdown-toc-traffic-splitting">Traffic Splitting</a></ol><li><a href="#bluegreen-deployment-policy" id="markdown-toc-bluegreen-deployment-policy">Blue/Green Deployment Policy</a></ol><li><a href="#configuring-environments" id="markdown-toc-configuring-environments">Configuring Environments</a><ol><li><a href="#order-of-precedence" id="markdown-toc-order-of-precedence">Order of Precedence</a><li><a href="#configuration-files-ebextensions" id="markdown-toc-configuration-files-ebextensions">Configuration Files (.ebextensions)</a><ol><li><a href="#option-settings" id="markdown-toc-option-settings">Option Settings</a><li><a href="#linux-server" id="markdown-toc-linux-server">Linux Server</a></ol><li><a href="#environment-manifest-envyaml" id="markdown-toc-environment-manifest-envyaml">Environment Manifest (env.yaml)</a></ol><li><a href="#eb-cli" id="markdown-toc-eb-cli">EB CLI</a></ol></details><hr /><h2 class="mb-5" id="what-is-elastic-beanstalk"> <a href="#what-is-elastic-beanstalk" class="anchor-heading" aria-labelledby="what-is-elastic-beanstalk"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> What is Elastic Beanstalk?</h2><p><strong>Elastic Beanstalk</strong> is a Platform as a Service (PaaS) that helps you deploy web apps with little knowledge about what kind of infrastructure is managed underneath.</p><p>It configures its components to provide an environment for your application to run on. EB is basically a Cloudformation template with a UI.</p><hr /><h2 class="mb-5" id="elastic-beanstalk-application"> <a href="#elastic-beanstalk-application" class="anchor-heading" aria-labelledby="elastic-beanstalk-application"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Elastic Beanstalk Application</h2><p>An Elastic Beanstalk application is a logical collection of application version and environments.</p><hr /><h2 class="mb-5" id="environment-tier"> <a href="#environment-tier" class="anchor-heading" aria-labelledby="environment-tier"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Environment Tier</h2><p>When you create an EB application, you are asked to choose an environment tier. This tier determines which resources EB should provision to form your environment.</p><p>When creating a web app, you often require both environment tiers.</p><h3 class="mb-4" id="web-server-environment"> <a href="#web-server-environment" class="anchor-heading" aria-labelledby="web-server-environment"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Web Server Environment</h3><p>Key resources launched in the EB container:</p><ul><li>Elastic Load Balancer<li>EC2 (Auto Scaling Group, Security Group)</ul><p>A web server environment serves HTTP requests. Web server environment is given a URL of <code class="language-plaintext highlighter-rouge">myapp.region.elasticbeanstalk.com</code>.</p><p>This environment creates an Elastic Load Balancer with a URL of of <code class="language-plaintext highlighter-rouge">elb-id.region.elb.amazonaws.com</code>.</p><p>In Amazon Route 53, this ELB URL has a CNAME Record to the environment URL.</p><p>This ELB sits in front of EC2 instances in a Auto Scaling Group (ASG). The stack on EC2 instances depends on which platform you chose (eg. Python 3.8 running on 64bit Amazon Linux 2).</p><p>However, in each instance sits one common component called the host manager (HM). HM manages all sorts of monitoring, deploying, and metrics related to the instance.</p><p>By default, EC2 instances are placed in a security group which allows all connection through port 80 (HTTP). Additional security groups maybe configured as needed.</p><h3 class="mb-4" id="worker-environment"> <a href="#worker-environment" class="anchor-heading" aria-labelledby="worker-environment"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Worker Environment</h3><p>Key resources launched in EB container:</p><ul><li>SQS<li>EC2 (Auto Scaling Group), Sqsd<li>Cloudwatch</ul><p>Worker environment is usually set up for long running tasks to run in the background.</p><p>A worker environment sets up an Amazon SQS queue. This queue often consists of messages from a web server environment.</p><p>On each EC2 instance runs a Sqsd daemon and a processing application. The daemon reads the message from the SQS queue and sends it as an HTTP POST request to the processing application. Upon a <code class="language-plaintext highlighter-rouge">200 OK</code> response from the processing application, Sqsd sends a delete message call to SQS.</p><p>EC2 instances publish their metrics to Amazon Cloudwatch. Auto Scaling retrieves usage data from Cloudwatch and scales instances accordingly.</p><hr /><h2 class="mb-5" id="deployment"> <a href="#deployment" class="anchor-heading" aria-labelledby="deployment"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Deployment</h2><p>Each deployment is identified with a deployment ID which increments from 1.</p><h3 class="mb-4" id="in-place-deployment-policies"> <a href="#in-place-deployment-policies" class="anchor-heading" aria-labelledby="in-place-deployment-policies"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> In-Place Deployment Policies</h3><p><img src="../../assets/eb-deployment-policies.png" alt="Deployment Policies" /></p><h4 class="mb-3" id="all-at-once"> <a href="#all-at-once" class="anchor-heading" aria-labelledby="all-at-once"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> All at once</h4><p>Every instance is killed and updated at the same time. The deployment is quick in that sense, but it results in a short loss of service. Also, it can be dangerous in case of a failure to deploy, and may be tricky to rollback.</p><h4 class="mb-3" id="rolling"> <a href="#rolling" class="anchor-heading" aria-labelledby="rolling"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Rolling</h4><p>Updates one batch of instances at a time. So a batch can be down during an update which may result in reduced availability for a short time. However, there is no downtime unlike ‘All at once’, but the entire deployment process takes a longer time.</p><h4 class="mb-3" id="rolling-with-additional-batch"> <a href="#rolling-with-additional-batch" class="anchor-heading" aria-labelledby="rolling-with-additional-batch"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Rolling with additional batch</h4><p>To avoid any reduced bandwidth in regular rolling deployment, an extra batch of instances is launched and rolling update is performed there. Hence, the number of instances up during deployment stays the same. This takes longer time.</p><h4 class="mb-3" id="immutable"> <a href="#immutable" class="anchor-heading" aria-labelledby="immutable"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Immutable</h4><p>Instead of updating instances, a complete new Auto Scaling Group set of instances is created. This is even slower.</p><h4 class="mb-3" id="traffic-splitting"> <a href="#traffic-splitting" class="anchor-heading" aria-labelledby="traffic-splitting"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Traffic Splitting</h4><p>Create a new set of instances and test it with a portion of the incoming traffic, while the rest of the traffic is still going to the old deployment version. This is as slow as ‘Immutable’.</p><h3 class="mb-4" id="bluegreen-deployment-policy"> <a href="#bluegreen-deployment-policy" class="anchor-heading" aria-labelledby="bluegreen-deployment-policy"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Blue/Green Deployment Policy</h3><p>One additional deployment option is the <strong>Blue/Green deployment</strong>.</p><p>All the other deployment policies above performs an <strong>In-Place</strong> deployment, which means the update happens within an EB environment. However, Blue/Green deployment goes beyond the instances inside the environment.</p><p>To avoid downtime, your deployment is launched to a complete new set of <strong>environment</strong> and then the CNAMEs of old and new environments are swapped to redirect traffic instantly.</p><hr /><h2 class="mb-5" id="configuring-environments"> <a href="#configuring-environments" class="anchor-heading" aria-labelledby="configuring-environments"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring Environments</h2><p>There are many different ways to configure environments.</p><h3 class="mb-4" id="order-of-precedence"> <a href="#order-of-precedence" class="anchor-heading" aria-labelledby="order-of-precedence"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Order of Precedence</h3><ol><li>Settings applied directly during create/update environment<li>Saved configuration objects in S3<li>Configuration files (.ebextensions, env.yaml)<li>Default values</ol><h3 class="mb-4" id="configuration-files-ebextensions"> <a href="#configuration-files-ebextensions" class="anchor-heading" aria-labelledby="configuration-files-ebextensions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuration Files (.ebextensions)</h3><p>You can place <code class="language-plaintext highlighter-rouge">.config</code> files in a folder <code class="language-plaintext highlighter-rouge">.ebextensions</code> at the root of the application source bundle.</p><p>Each <code class="language-plaintext highlighter-rouge">.config</code> files are applied in alphabetical order. YAML is recommended for configuration files but both YAML and JSON are supported.</p><h4 class="mb-3" id="option-settings"> <a href="#option-settings" class="anchor-heading" aria-labelledby="option-settings"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Option Settings</h4><p>Use <code class="language-plaintext highlighter-rouge">option_settings</code> key to configure environment options</p><div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">option_settings</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">namespace</span><span class="pi">:</span>  <span class="s">namespace</span>
    <span class="na">option_name</span><span class="pi">:</span>  <span class="s">option name</span>
    <span class="na">value</span><span class="pi">:</span>  <span class="s">option value</span>
</code></pre></div></div><h4 class="mb-3" id="linux-server"> <a href="#linux-server" class="anchor-heading" aria-labelledby="linux-server"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Linux Server</h4><p>You can also configure the software running on your instances.</p><p>Check these <a href="https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/customize-containers-ec2.html">link1</a>, <a href="https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/platforms-linux-extend.html">link2</a> for details.</p><h3 class="mb-4" id="environment-manifest-envyaml"> <a href="#environment-manifest-envyaml" class="anchor-heading" aria-labelledby="environment-manifest-envyaml"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Environment Manifest (env.yaml)</h3><p>Place an <code class="language-plaintext highlighter-rouge">env.yaml</code> file at the root of the application source bundle to configure the environment.</p><p>You can configure the name, solution stack, and links to other environments. There are some overlaps between <code class="language-plaintext highlighter-rouge">.config</code>s and <code class="language-plaintext highlighter-rouge">env.yaml</code>.</p><p>It seems <code class="language-plaintext highlighter-rouge">env.yaml</code> is more environment specific, while <code class="language-plaintext highlighter-rouge">.config</code> files can handle overall configuration of the application.</p><p>Check the <a href="https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/environment-cfg-manifest.html">link</a> for details.</p><hr /><h2 class="mb-5" id="eb-cli"> <a href="#eb-cli" class="anchor-heading" aria-labelledby="eb-cli"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> EB CLI</h2><p>EB CLI is an open-source project hosted in <a href="https://github.com/aws/aws-elastic-beanstalk-cli">this</a> repository.</p><p>To use the CLI application, however, clone <a href="https://github.com/aws/aws-elastic-beanstalk-cli-setup">this</a> setup repository instead.</p><hr /><p>References:</p><ul><li><a href="https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/concepts-webserver.html">Web Server Environment</a>]<li><a href="https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features-managing-env-tiers.html">Worker Environment</a>]<li><a href="https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features.deploy-existing-version.html">Deployments</a><li><a href="https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/beanstalk-environment-configuration-advanced.html">Configuring Environment</a><li><a href="https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb-cli3.html">EB CLI</a></ul><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><p class="text-small text-grey-dk-100 mb-0">Itty Bitty</p><div class="d-flex mt-2"></div></footer></div></div><div class="search-overlay"></div></div>
